let pokemonRepository=function(){let t=[];function e(e){"object"==typeof e&&"name"in e?t.push({name:e.name,detailsUrl:e.url}):console.log("Invalid Pokemon")}function n(t){let e=$(".pokemon-list"),n=$('<li class="list-group-item"></li>'),o=$('<button class="btn btn-primary" data-toggle="modal" data-target="#exampleModal" id="showDetailsButton"></button>');o.text(t.name),o.click(function(){pokemonRepository.showDetails(t)}),n.append(o),e.append(n)}function o(t){return fetch(t.detailsUrl).then(function(t){return t.json()}).then(function(e){t.imageUrl=e.sprites.front_default,t.height=e.height,t.weight=e.weight,t.types=e.types.map(function(t){return t.type.name})}).catch(function(t){console.error(t)})}return{getAll:function e(){return new Promise(function(e,n){setTimeout(function(){e(t)},2e3)})},add:e,addListItem:n,showDetails:function t(e){o(e).then(function(){let t=document.querySelector(".modal-title"),n=document.querySelector(".modal-body");t.innerHTML="<h1>"+e.name+"</h1>",n.innerHTML='<img class="modal-img" src="'+e.imageUrl+'"><p>Height: '+e.height/10+" m</p><p>Types: "+(e.types?e.types.join(", "):"")+"</p><p>Weight: "+e.weight/10+" kg</p>",$("#pokemonDetailModal").modal("toggle")})},loadList:function o(){return fetch("https://pokeapi.co/api/v2/pokemon/?limit=150").then(function(t){return t.json()}).then(function(o){return o.results.forEach(function(t){let o={name:t.name,detailsUrl:t.url};e(o),n(o)}),t}).catch(function(t){throw Error("Failed to load pokemon list: "+t.message)})},loadDetails:o}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().then(function(t){t.forEach(function(t,e){pokemonRepository.addListItem(t),$("#"+e).attr("id",t.name)})})});